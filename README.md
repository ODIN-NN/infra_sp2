# API YaMDb

### Описание
Проект YaMDb собирает отзывы пользователей на произведения. 
Произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка».
Список категорий может быть расширен.
Произведению может быть присвоен жанр из списка предустановленных.
Добавлять произведения, категории и жанры может только администратор.
Пользователи могут оставить к произведениям текстовые отзывы и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.
Добавлять отзывы, комментарии и ставить оценки могут только аутентифицированные пользователи.

### Технологии
- Python 3.7
- Django 2.2.16
- Django REST Framework 3.12.4
- Docker-compose 2.15.1

### Как запустить проект:
Клонировать репозиторий:

```git clone https://github.com/ODIN-NN/infra_sp2.git```

Создать файл .env в директории infra и добавить в него переменные окружения:

```DB_ENGINE=django.db.backends.postgresql```

```DB_NAME=```

```POSTGRES_USER=```

```POSTGRES_PASSWORD=```

```DB_HOST=db```

```DB_PORT=5432```

Установить и запустить Docker

Перейти в директорию infra:

```cd infra_sp2/infra```

Запустить сборку контейнеров:

```docker-compose up -d --build```

Выполнить миграции:

```docker-compose exec web python manage.py migrate```

Создать суперпользователя:

```docker-compose exec web python manage.py createsuperuser```

Собрать статику:

```docker-compose exec web python manage.py collectstatic --no-input```

Проект доступен по адресу: http://localhost/admin/

```python3 manage.py runserver```

По адресу ```http://localhost/redoc/``` доступна документация для API

### Автор
- [Александр Одинцов](https://github.com/ODIN-NN "Github page")
